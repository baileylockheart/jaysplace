<!doctype html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" crossorigin="anonymous"><link href="https://fonts.googleapis.com/css?family=Karla:400,900|PT+Sans+Narrow|Yantramanav:400,900|Roboto:900,400|Bangers|Krona+One|Nunito:400,900|Frank+Ruhl+Libre:400,900|Oswald:400,900|Source+Serif+Pro|Work+Sans:400,900|Open+Sans|Raleway|Lato|Passion+One|Lateef|Crimson+Text|Baloo+Paaji+2|Jost|Oswald|Montserrat|Lexend+Deca|Bungee+Shade|Rubik|Inter:400,900|Bebas+Neue|Syncopate:400,700|VT323:400,900|Poppins:400,900|Fredoka+One:400,900|Staatliches:400,900|Redacted+Script:400,900|Rubik+Pixels:400,900|Cute+Font:400,900|Kosugi+Maru:400,900|Darumadrop+One:400,900|Kaisei+Decol:400,900|Playfair+Display:400,900|Rubik+Doodle+Shadow:400,900|Shadows+Into+Light:400,900|M+PLUS+1:400,900|Zeyada:400,900|Rock+Salt:400,900|Leckerli+One:400,900|Space+Mono:400,900|Finger+Paint:400,900|EB+Garamond:400,700" rel="stylesheet"><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/p5@1.4.1/lib/p5.js"></script><script src="https://cdn.jsdelivr.net/npm/konva@8.3.2/konva.min.js"></script><link href="https://straw.page/min/?g=els&n=9587" rel="stylesheet"><link rel="apple-touch-icon" sizes="180x180" href="https://straw.page/apple-touch-icon.png?v=2"><link rel="icon" type="image/png" sizes="32x32" href="https://straw.page/favicon-32x32.png?v=2"><link rel="icon" type="image/png" sizes="16x16" href="https://straw.page/favicon-16x16.png?v=2"><script defer="defer" src="https://notebook.straw.page" data-website-id="2acd9b9c-18e2-4e59-a695-00f1cb629b30"></script><meta property="twitter:title" content="jaysplace's strawpage"><meta property="twitter:description" content="jaysplace's strawpage"><meta property="og:image" content="https://strawcdn.com/capture/pics/jaysplace.straw.page.jpg?v=7562"><meta name="twitter:title" content="jaysplace's strawpage"><meta name="twitter:description" content="Made with StrawPage"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://strawcdn.com/capture/pics/jaysplace.straw.page.jpg?v=9633"><meta name="straw:user" content="jaysplace"><script src="https://cdn.usefathom.com/script.js" data-site="ZXDYIAXN" defer="defer"></script><style>*{outline:0;margin:0;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}html{-webkit-text-size-adjust:100%}.a:focus,.a:hover,a,a:active,a:link,a:visited{color:inherit;text-decoration:none}body{overflow-x:hidden;background:var(--b);--b:#fff;background-size:cover;background-position:center;background-attachment:scroll;--mw:600}.first{font-family:Yantramanav;--p:#df001d;--g:32px;--gs:2.73438em;--extra:1;background-size:cover;background-position:center;background-attachment:scroll;overflow-x:hidden;overflow-y:hidden}.content{margin:0 auto;width:100%;max-width:calc(1px * var(--mw));position:relative;font-size:min(16px, 16 * (100vw / var(--mw)));min-height:100vh}.element:hover{cursor:auto}.element[data-type=text] *{-webkit-user-drag:auto;-khtml-user-drag:auto;-moz-user-drag:auto;-o-user-drag:auto;user-drag:auto;-khtml-user-select:auto;-o-user-select:auto;-moz-user-select:auto;-webkit-user-select:auto;user-select:auto}.element{transition:transform .3s ease}.content a .element:hover,.element[data-scrollto]:hover{transform:rotate(calc(1deg*var(--r))) scale(calc(var(--s) * 1.05));cursor:pointer}.content a .element:hover button{cursor:pointer}.element:not([data-type=wordart]) p{-webkit-transform:translate3d(0,0,0)}.branding{position:fixed;bottom:30px;right:30px;display:flex;align-items:center;filter:drop-shadow(0 1px 5px rgba(0,0,0,.4));background:#df001d;z-index:9999999999999999;transition:all .3s ease;transform:none}.branding img{height:40px;width:40px;margin-bottom:0;padding:2px}.brandingContent{display:none}.brandingContent p{margin:0;font-family:Yantramanav;color:#fff;font-size:16px;padding:0 8px}.branding:hover{transform:scale(1.1);cursor:pointer}@media(min-width:5px){.brandingContent{display:block!important}}.inst{--scaler:1.2}.inst.fb{--scaler:1.15}.inst .element[data-type=button] button,.inst .element[data-type=icon] .el_content,.inst .element[data-type=text] .el_content{font-size:calc(1em * calc(var(--ts) / var(--scaler)))}.element[data-type=embed] iframe{pointer-events:all}.element[data-type=icon]:not([data-link]):not([data-scrollto]),.element[data-type=image]:not([data-link]):not([data-scrollto]),.element[data-type=shape]:not([data-link]):not([data-scrollto]){pointer-events:none}.element[data-type=text]:not([data-link]):not([data-scrollable]):not([data-scrollto]){pointer-events:none}.element[data-type=text]:not([data-link]):not([data-scrollto]) *{pointer-events:all}.element[data-type=icon][data-link]{pointer-events:none}.element[data-type=icon][data-link] i{pointer-events:all}.element[data-type=paint]{pointer-events:none}.element[data-type=paint] g{pointer-events:all}.element[data-type=gimmick-canvas]{border:.15em solid var(--co);--co:#df001d;--ts:1;border-radius:5px;transform:rotate(calc(1deg*var(--r)))}.element[data-type=gimmick-canvas] .innerCanvas{height:100%;width:100%;display:flex;flex-direction:column}.element[data-type=gimmick-canvas] .toolbox{margin:0 0 0 auto;background:#fff;padding:.4em .6em;color:var(--co);display:inline-flex;font-size:calc(1em * var(--ts));position:absolute;top:0;left:50%;transform:translate(-50%,-100%);border:.15em solid var(--co);border-radius:calc(5px / 2);align-items:center;max-width:100%}.element[data-type=gimmick-canvas] .toolbox i{padding:0 .4em;font-size:1.1em}.element[data-type=gimmick-canvas] .picasso{background:#fff;flex:1;border-radius:calc(5px / 2);overflow:hidden;position:relative}.element[data-type=gimmick-canvas] .picasso canvas{height:100%;width:100%}.element[data-type=gimmick-canvas] .sendPicasso{padding:0}.element[data-type=gimmick-canvas] .sendPicasso button{-webkit-appearance:none;appearance:none;background:#fff;color:var(--co);text-align:center;border:0;border-top:.15em solid var(--co);width:100%;padding:.5em .2em;font-family:Yantramanav;font-size:1.1em;border-bottom-left-radius:calc(5px / 2);border-bottom-right-radius:calc(5px / 2);transition:all .3s ease}.element[data-type=gimmick-canvas] .sendPicasso button:hover{background:var(--co);color:#fff;cursor:pointer}.element[data-type=gimmick-ama] .askerSend button:hover{background:var(--co);color:#fff;cursor:pointer}.element[data-type=gimmick-ama] .askExtra{position:relative;transition:all .3s ease}.element[data-type=gimmick-ama] .askExtra img{height:1.875em;width:1.875em;position:absolute;left:calc(50% - 4px);top:50%;transform:translate(-50%,-50%);object-fit:cover;object-position:center}.element[data-type=gimmick-ama] .askExtra:hover{opacity:.5;cursor:pointer}.element[data-type=gimmick-canvas] .canvCol{height:1.1em;width:1.1em;border-radius:50%;margin:0 .4em;background:conic-gradient(from 0deg at 50% 50%,red 0,#ff9a00 10%,#d0de21 20%,#4fdc4a 30%,#3fdad8 40%,#2fc9e2 50%,#1c7fee 60%,#5f15f2 70%,#ba0cf8 80%,#fb07d9 90%,red 100%)}.element[data-type=gimmick-canvas] [type=color]{visibility:hidden;position:absolute}.canvSizing{display:flex;align-items:center}.element[data-type=gimmick-canvas] [type=range]{border:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;height:5px;width:3em;background:var(--co);border-radius:40px;border:1px solid var(--co);background:0;margin:0 .5rem}.element[data-type=gimmick-canvas] [type=range]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;background:var(--co);height:15px;width:15px;border:2px solid var(--co);border-radius:40px}.element[data-type=gimmick-ama].doneArt,.element[data-type=gimmick-canvas].doneArt{pointer-events:none}.jfr .element,.jfr .element *{pointer-events:all!important}@media(max-width:385px){.element[data-type=gimmick-canvas] [type=range]::-webkit-slider-thumb{height:12px;width:12px}}.element[data-type=image] img{width:calc(100% * var(--s));height:calc(100% * var(--s));transform:scale(calc(1 / var(--s))) translateZ(0)}@-moz-document url-prefix(){.element[data-type=image] img{min-height:calc(100% * var(--s));min-width:calc(100% * var(--s))}}.element[data-type=majorityvote] .innerTalking p:not(.activeTalk){display:none}.element[data-type=majorityvote] .innerTalking:hover{cursor:pointer}.element.disableTmp{pointer-events:none}.completionCasso{position:absolute;top:0;left:0;right:0;bottom:0;z-index:9999;background:var(--co);align-items:center;justify-content:center;opacity:0;pointer-events:none;display:flex;transition:opacity .3s ease}.completionCasso button{-webkit-appearance:none;appearance:none;background:#fff;color:var(--co);border:1px solid #fff;font-family:Yantramanav;font-size:1em;padding:.3em .8em;transition:all .3s ease}.completionCasso button:hover{transform:scale(1.1);cursor:pointer}.element[data-type=gimmick-canvas].doneArt .completionCasso{pointer-events:all;opacity:1}.element[data-sound]{pointer-events:all!important}.element[data-sound]:hover{cursor:pointer}.element[data-type=spotify]:hover .imgWrap i{transform:translate(-50%,-50%) scale(1.1)}.cursorMode .cursorReal{background-image:var(--cu);height:32px;width:32px;background-size:contain;background-repeat:no-repeat;background-position:center;position:fixed;top:100px;left:100px;z-index:999999999999999999999;pointer-events:none}.cursorMode,.cursorMode *{cursor:none!important}.spotSearch{background:#18181b;max-height:270px;position:fixed;bottom:-120vh;left:0;right:0;max-width:420px;margin:0 auto;border-top-left-radius:20px;border-top-right-radius:20px;padding:15px;height:100%;opacity:0;transition:bottom .3s ease}.spotSearch.bringUp{bottom:0;opacity:1}.spotSearch .closer{background:#000;position:absolute;top:0;left:50%;transform:translate(-50%,-100%);color:#fff;height:30px;width:40px;border-top-left-radius:5px;border-top-right-radius:5px;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.spotSearch .closer:hover{opacity:.8;cursor:pointer}.innerSpotSearch{overflow-y:scroll;height:100%}.searchWrap{position:sticky;top:0;display:grid;grid-template-columns:auto 1fr;grid-gap:10px;color:#8d8d8f;background:#27272a;border-radius:40px;overflow:hidden}.searchWrap input{background:#27272a;width:100%;font-family:Yantramanav;padding:8px 8px;border:0;font-size:14px;color:#fff}.searchWrap input::placeholder{color:#8d8d8f}.searchWrap i{display:inline-flex;align-items:center;justify-content:center;padding-left:14px;font-size:13px}.spotResults{padding:20px 0;display:grid;grid-gap:10px}.spotItem{display:grid;grid-template-columns:auto 1fr auto;grid-gap:20px;color:#fff;padding:10px;border-radius:10px;transition:all .3s ease}.spotItem:hover{background:rgba(255,255,255,.05);cursor:pointer}.spotItem img{height:30px;width:30px;object-fit:cover;object-position:center;border-radius:6px}.spotMeta{color:#cfcfd3;display:grid;grid-gap:4px}.spotMeta h5{font-size:13px;color:#fff}.spotMeta p{font-size:13px}.spotMeta i{font-size:12px;padding-right:4px}.spotActions{display:flex;align-items:center}.spotActions i{padding:4px;font-size:13px}.followingDon{transition:all .3s ease}.followingDon:hover{opacity:.5;cursor:pointer}.element[data-type=windowsplayer] input[type=range]{-webkit-appearance:none;width:100%;background:0 0;font-size:1em}.element[data-type=windowsplayer] input[type=range]::-webkit-slider-runnable-track{width:100%;height:.25em;background:#9b9a99;border-radius:6.25em;box-shadow:inset .0625em .0625em #000,inset -.0625em -.0625em #9b9a99}.element[data-type=windowsplayer] input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:.625em;height:1em;background:#9b9a99;box-shadow:inset .0625em .0625em #9b9a99,inset -.0625em -.0625em #000,inset .125em .125em #9b9a99,inset -.125em -.125em #000;margin-top:-.375em;position:relative;z-index:1}.memeInp{justify-content:flex-end}.ff .element[data-type=image] img{background-color:transparent}.element[data-type=image][data-link="#"] img{pointer-events:all}</style><title>jaysplace's strawpage</title></head><body style="--g:2.34375;--b:#21282e"><div class="first"><div class="content"><div class="element" style="--x:1;--y:1;--w:14.15;--h:1;--r:0;--s:1;--co:#cd6529" data-uid="aoohfoohvr" data-type="gimmick-ama"><div class="innerUhh"><div class="asker"><input type="text" placeholder="Ask me something!" maxlength="288"><div class="askExtra"><i class="fab fa-spotify"></i></div></div><div class="askerSend"><button type="button">Send anonymously ✍️🤫</button></div></div></div><div class="element" style="--x:0.9251106770833334;--y:4.613333333333333;--w:14.3;--h:9.7;--r:0;--s:1;--co:#cd6529" data-uid="sjyyrafage" data-type="gimmick-canvas"><div class="innerCanvas"><div class="toolbox"><i class="fas fa-undo"></i><div class="canvSizing"><input type="range" min="2" max="12" step="2" value="4"></div><span class="canvCol"></span><input type="color" id="colpick"><label for="colpick" style="visibility:hidden;position:absolute"></label></div><div class="picasso"><canvas></canvas><div class="completionCasso"><button type="button">get your own drawings!</button></div></div><div class="sendPicasso"><button type="button">Send anonymously 🎨🤫</button></div></div></div></div><div class="spotSearch"><i class="fas fa-times closer"></i><div class="innerSpotSearch"><div class="searchWrap"><i class="fas fa-search"></i><input type="text" placeholder="Search for a song to recommend!"></div><div class="spotResults"></div></div></div></div><script>const debounce=(t,e)=>{let o;return function(...a){clearTimeout(o),o=setTimeout((()=>{clearTimeout(o),t(...a)}),e)}};function formatPaint(){var t=parseFloat($(".first").css("--mw")),e=$(window).width();if(e<t){var o=e/t;$(".first svg,#drawing svg").each((function(){var t=parseFloat(1-o);$(this).css("--ns",t)}))}else $(".first svg,#drawing svg").css("--ns",0)}function makeGrid(){var t=parseFloat($(".content").outerWidth())/16/16;$(".first").css("--g",t),gridSize=16*parseFloat($(".grid").css("--g")),gridDown=!1,gridSelected=!1,formatPaint()}function calculateEditorHeight(){var t=$(document).scrollTop();$(".content").css("height","");var e=$(".content")[0].scrollHeight;$(window).outerHeight();$(".content").css("height",e+80),$(document).scrollTop(t)}makeGrid(),$(window).on("resize",(function(){makeGrid()})),$(".spotSearch input").keyup(debounce((function(){var t=$(".spotSearch input").val();$.ajax({url:"https://straw.page/power/spotify/search",method:"GET",data:{q:t},success:function(t){$(".spotResults").empty();for(var e=0;e<t.length;e++)$(".spotResults").append(`<div class="spotItem"><img src="${t[e].album_image_url}"><div class="spotMeta" data-sound="${t[e].preview}"><h5>${t[e].name}</h5><p><i class="fab fa-spotify"></i>${t[e].artist_list}</p></div></div>`)}})}),500)),calculateEditorHeight(),$(window).on("load",(function(){calculateEditorHeight(),"undefined"!=typeof umami&&(ok=umami,void 0===ok.track&&(ok.track=function(){}))})),$(document).on("mousemove touchmove",(function(t){var e=t.originalEvent.touches?t.originalEvent.touches[0].pageY:t.pageY,o=t.originalEvent.touches?t.originalEvent.touches[0].pageX:t.pageX;$(".eyeball span").each((function(){var t=parseFloat($(this).closest(".element").css("--r")),a=$(this),n=a.offset().left+a.width()/2,i=a.offset().top+a.height()/2;rad=Math.atan2(o-n,e-i),rot=rad*(180/Math.PI)*-1+180,rot-=t,a.css({"-webkit-transform":"rotate("+rot+"deg)","-moz-transform":"rotate("+rot+"deg)","-ms-transform":"rotate("+rot+"deg)",transform:"rotate("+rot+"deg)"})}))})),$(window).width()<5&&$(".branding").mouseover((function(){$(".brandingContent").show(150)})).mouseleave((function(){$(".brandingContent").hide(150)}));var findr=["Instagram","Snapchat","FB"];function containsCheck(t,e){var o=0;return e.forEach((function(e){o+=t.includes(e)})),1===o}containsCheck(navigator.userAgent,findr)&&$(".first").addClass("inst")</script><script src="https://cdnjs.cloudflare.com/ajax/libs/pako/2.0.4/pako.min.js"></script><script src="https://straw.page/min/?g=drawm&n=88"></script><script>$(document).on("click",".element[data-type=gimmick-ama] button",(function(){var t=$(this).closest(".element"),a=$(t).find("input").val(),n=$(t).find(".asker input").attr("placeholder"),e={};a.length<1||($(t).find(".askExtra img").length>0&&(e.album=$(t).find(".askExtra img").attr("src"),e.song=$(t).data("song"),e.artist=$(t).data("artist"),e.sound=$(t).data("sound")),$(t).addClass("doneArt"),$.ajax({type:"POST",url:"/gimmicks/ama",data:{q:a,p:n,m:e},success:function(a){try{ok.track("sent ama!")}catch(t){}$(t).find(".askerSend button").text("Sent! 😎")}}))}))</script><script>var audioElements={},spotEls={};$(document).on("click",".element[data-sound]",(function(){"spotify"==$(this).data("type")&&($(this).toggleClass("playing"),$(this).hasClass("playing")?$(this).find(".imgWrap i").attr("class","fas fa-pause"):$(this).find(".imgWrap i").attr("class","fas fa-play"));var e=$(this).data("sound");audioElements[e]||(audioElements[e]=new Audio(e));var t=audioElements[e];t.paused?t.play():t.pause()}));let userAgent=navigator.userAgent;function isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}function startMajorityVoteTalk(e=null){(e?$(e).find(".activeTalk"):$(".activeTalk")).each((function(){var e=this,t=$(this).data("talk").trim();$(this).text(""),$(this).closest(".element").addClass("disableTmp");for(let a=0;a<t.length;a++)setTimeout((function(){$(e).text().length===a&&$(e).append(t[a]),a===t.length-1&&$(e).closest(".element").removeClass("disableTmp")}),20*a)}))}var amaCtx;function convertRemToPixels(e){return e*parseFloat(getComputedStyle($(".content")[0]).fontSize)}function calculateH(e){return e/(2.34375*convertRemToPixels(1))}function findExtraInfo(e){for(var t=0;t<extraInfo.length;t++)if(extraInfo[t].uid==e)return extraInfo[t];return!1}userAgent.match(/firefox|fxios/i)&&$("body").addClass("ff"),$(".element[data-type=blog").length>0&&$.ajax({type:"GET",url:"blog/fetch/posts",success:function(e){if(e.length>0)for(item of e)if("post"===item.type)$(".element[data-type=blog] .innerBlog").append(`<div class="post"><a href="${item.url}"><div class="innerPost">${item.content}<div class="meta"><p>~ ${item.published}</p></div></div></a></div>`)}}),$(".element[data-type=majorityvote").each((function(){$(this).find(".innerTalking p").eq(0).addClass("activeTalk"),startMajorityVoteTalk()})),$(".element[data-type=friends").length>0&&$.ajax({url:"/get/following",method:"GET",success:function(e){$(".innerFriendsList").empty(),$(".innerFriendsList").each((function(){for(var t=0;t<e.sites.length;t++)$(this).append(`<div class="followingDon" data-site="${e.sites[t].site}"><a href="https://${e.sites[t].site}.straw.page"><div class="innerFollowingDon"><img src="${e.sites[t].pic}" />${e.sites[t].site.length>7?'<div class="marquee" data-fun-text="'+e.sites[t].site+'"></div>':"<p>"+e.sites[t].site+"</p>"}</div></a></div>`)}))}}),$(document).on("click",".innerTalking",(function(){var e=$(this).find(".activeTalk"),t=$(this).closest(".scene"),a=$(this).closest(".element");$(e).next("p").length>0?($(e).empty(),$(e).removeClass("activeTalk"),$(e).next("p").addClass("activeTalk"),startMajorityVoteTalk(a)):$(t).next(".scene").length>0?($(t).next(".scene").addClass("active"),$(t).find(".activeTalk").removeClass("activeTalk"),$(t).removeClass("active"),$(t).next(".scene").find(".innerTalking p").eq(0).addClass("activeTalk"),startMajorityVoteTalk(a)):($(".activeTalk").removeClass("activeTalk"),$(this).closest(".element").find(".active").removeClass("active"),$(this).closest(".element").find(".scene").eq(0).addClass("active"),$(this).closest(".element").find(".scene.active .innerTalking p").eq(0).addClass("activeTalk"),startMajorityVoteTalk(a))})),$(document).on("click",".spotItem",(function(){$(amaCtx).find("img").remove(),$(amaCtx).find(".askExtra").append(`<img src="${$(this).find("img").attr("src")}">`),$(amaCtx).data("song",$(this).find("h5").text()),$(amaCtx).data("artist",$(this).find("p").text()),$(amaCtx).data("sound",$(this).find(".spotMeta").attr("data-sound")),$(".spotSearch").removeClass("bringUp")})),$(document).on("click",".askExtra",(function(){amaCtx=$(this).closest(".element"),$(".spotSearch").addClass("bringUp")})),$(document).on("click",".spotSearch .closer",(function(){$(".spotSearch").removeClass("bringUp")})),$(document).on("click",".element[data-scrollto]",(function(e){e.stopImmediatePropagation();var t=$(this).data("scrollto").trim();$("html, body").animate({scrollTop:$(`.element[data-uid=${t}]`).offset().top},400)})),$(window).on("load",(function(){$(".element[data-type=blogcontent]").each((function(){var e=$(this)[0].getBoundingClientRect(),t=parseFloat($(this).css("--h")),a=parseFloat($(this).css("--y")),n=calculateH(e.height)-t;$(".element").not(this).each((function(){var i=$(this)[0].getBoundingClientRect();if(i.left<e.right&&i.right>e.left){var s=parseFloat($(this).css("--y"));s>=a+t&&$(this).css("--y",s+n)}}))})),calculateEditorHeight()})),$(document).on("click","a",(function(){if($(this).find(".element[data-type=button2]").length>0){var e=$(this).text().trim();ok.track("clicked: "+e)}}));var extraInfo=[];$(document).on("click",".memeControls i.fa-plus",(function(){$(this).closest(".element").find(".memeGallery").fadeIn(100)})),$(".memeGallery input").keyup((function(){var e=this;debounce((function(){var t=$(e).val();$.ajax({url:"/search/stickers",method:"POST",data:{query:t},success:function(t){$(e).closest(".element").find(".memeGallResults").empty();for(var a=0;a<t.gifs.length;a++)$(e).closest(".element").find(".memeGallResults").append(`<img src="${t.gifs[a]}">`)}})}),300)()})),$(document).on("click",".memeControls i.fa-plus,.memeInp i",(function(){$(this).closest(".element").find(".memeGallery").toggleClass("showMemeGallery")})),$(".element[data-type=memegen]").each((function(){const e=$(this),t=e.find(".officialMemeContainer"),a="container-"+Math.random().toString(36).substr(2,9);t.attr("id",a);const n=new Konva.Stage({container:a,width:t.outerWidth(),height:t.outerHeight()}),i=new Konva.Layer;n.add(i);const s=$(this).data("img"),o=new Image;let l;o.crossOrigin="anonymous",o.src=s,o.onload=function(){const e=n.width(),t=n.height(),a=o.width,s=o.height,c=Math.max(e/a,t/s),r=a*c,d=s*c,m=(e-r)/2,h=(t-d)/2;l=new Konva.Image({image:o,x:m,y:h,width:r,height:d,listening:!1}),i.add(l),i.moveToBottom(),i.draw()},e.on("click",".memeGallResults img",(function(){const t=new Image;t.crossOrigin="anonymous",t.src=$(this).attr("src"),$(this).closest(".memeGallery").removeClass("showMemeGallery"),t.onload=function(){let a=1;a=t.width>t.height?100/t.width:100/t.height;const s=t.width*a,o=t.height*a,l=new Konva.Image({image:t,x:(n.width()-s)/2,y:(n.height()-o)/2,width:s,height:o,draggable:!0});i.add(l),i.draw();const c=new Konva.Transformer({nodes:[l],rotateEnabled:!0,enabledAnchors:["top-left","top-right","bottom-left","bottom-right","middle-left","middle-right","top-center","bottom-center"],flipEnabled:!0,stroke:"black",strokeWidth:2,anchorStroke:"black",anchorFill:"black",anchorSize:6,borderStroke:"black",borderStrokeWidth:1});i.add(c),i.draw();const r=e.find(".stickerButtons");l.on("click",(function(){c.nodes([l]),i.draw(),r.addClass("showMemeGallery")})),n.on("click",(function(e){e.target===n&&(c.nodes([]),i.draw(),r.removeClass("showMemeGallery"))})),r.find(".fa-trash").on("click",(function(){l.destroy(),c.destroy(),i.draw(),r.removeClass("showMemeGallery")})),r.addClass("showMemeGallery")}})),e.find(".downloadMeme").on("click",(function(){const e=n.find("Transformer");e.forEach((e=>e.hide())),i.draw();const t=n.toDataURL({pixelRatio:3});e.forEach((e=>e.show())),i.draw();const a=document.createElement("a");a.href=t,a.download="meme.png",document.body.appendChild(a),a.click(),document.body.removeChild(a)})),e.find(".resetMeme").on("click",(function(){i.destroyChildren(),i.add(l),i.draw()})),e.find(".changeBackground").on("click",(function(){const e=document.createElement("input");e.type="file",e.accept="image/*",e.onchange=function(e){const t=e.target.files[0],a=new FileReader;a.onload=function(e){const t=new Image;t.src=e.target.result,t.crossOrigin="anonymous",t.onload=function(){const e=n.width(),a=n.height(),s=t.width,o=t.height,c=Math.max(e/s,a/o),r=s*c,d=o*c,m=(e-r)/2,h=(a-d)/2;l.image(t),l.width(r),l.height(d),l.position({x:m,y:h}),i.draw()}},a.readAsDataURL(t)},e.click()}))}))</script></body></html>